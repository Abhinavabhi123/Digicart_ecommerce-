<%-include("../admin/layout/header.ejs")%>
<div class="col pt-4">
    <div class="pt-2 px-4 ps-lg-0 pe-xl-5">
        <h2 class="h4 pt-2 pb-4 mb-0 text-center text-sm-start border-bottom border-primary"><span class="badge bg-faded-accent fs-sm text-body align-middle ms-2"></span></h2>
        </div>
    <!-- Tabs-->
    <ul class="nav nav-tabs nav-justified" role="tablist">

         
      <li class="nav-item"><a class="nav-link px-0" href="#AddProducts" data-bs-toggle="tab" role="tab">
          <div class="d-none d-lg-block"><i class="ci-cloud-upload opacity-60 me-2"></i>Edit Products</div>
          <div class="d-lg-none text-center"><i class="ci-bell opacity-60 d-block fs-xl mb-2"></i><span class="fs-ms">EditProducts</span></div></a></li>
      
    </ul>
    <div class="container-fluid col">
        <form action="/admin/editProduct?id=<%=productdata._id%>" method="post" enctype="multipart/form-data">
        <div class="row ">
            <div class="col-sm-6">
              <label class="form-label" for="dashboard-fn">Product Name</label>
              <input class="form-control" name="editproductName" type="text" value="<%=productdata.name%>" id="dashboard-fn" placeholder="Enter Product Name" required>
            </div>
            <div class="col-sm-6">
              <label class="form-label"  for="dashboard-ln">Description</label>
              <input class="form-control" name="editproDescription" type="text" value="<%=productdata.description%>" id="dashboard-ln" placeholder="Enter Description" required>
            </div>
            <div class="col-sm-6">
                <label class="form-label" for="dashboard-ln">Price</label>
                <input class="form-control" name="editproductPrice" type="text" value="<%=productdata.price%>" id="dashboard-ln" placeholder="Enter Price" required>
              </div>
            <div class="col-sm-6">
              <label class="form-label" for="dashboard-profile-name">Stock</label>
              <input class="form-control" name="editproductStock" type="text" id="dashboard-profile-name" value="<%=productdata.stock%>" placeholder="Enter Stock details" required>
            </div>
            <div class="col-sm-6">
              <label class="form-label" for="dashboard-country">Category</label>
              <select name="editproCategory" class="form-select form-control" id="dashboard-country"  required>
                <option value="<%=productdata.category._id%>"><%=productdata.category.categoryName%></option>
                <%catdata.forEach(function(catdata,i){%>
                    <option value="<%=catdata._id%>"><%=catdata.categoryName%></option>
                <%})%>
              </select>
            </div>
            <div class="col-sm-6">
              <label class="form-label" for="dashboard-country">Status</label>
              <select name="editStatus" class="form-select form-control" id="dashboard-country"  required>
                <option value="<%=productdata.status%>"><%=productdata.status%></option>
                <option value="Active">Active</option>
                <option value="Disable">Disable</option>
              
              </select>
            </div>
            
            <div class="col-sm-6">
              <%productdata.image .forEach((element,i) => {%>
                <img src="/Image/<%=productdata.image[i]%>" id="imgView" style="width: 120px; height: auto; padding-top: 5px;">
              <%});  %>
             <br>
                <label class="form-label" for="dashboard-profile-name" >Image</label><br>
                <label style="color: red; font-size: 12px;"> Please select minimum 4 and maximum 4 images </label>
                <input class="form-control" required name="editproImage" multiple type="file" id="dashboard-profile-name" value="<%=productdata.image[0]%>" placeholder="Enter Stock details" onchange="viewImage(event)">
              </div>
           
            <div class="col-12">
              <hr class="mt-2 mb-4">
              <div class="d-sm-flex justify-content-end align-items-center">
                <button class="btn btn-primary mt-3 mt-sm-0" type="submit">Save changes</button>
              </div>
            </div>
          </div>
        </form>
    </div>

    <script>
      function viewImage(event){
        document.getElementById("imgView").src=URL.createObjectURL(event.target.files[0])
      }
    </script>

<%-include("../admin/layout/footer.ejs")%>
